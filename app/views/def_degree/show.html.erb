<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <% content_for :title, "Default Degree Planner" %>
  <%= csrf_meta_tags %>
</head>


<body class="profile-body">
  <%= render 'shared/navbar_student' %>


  <h1 class="degreeplan-title">Default Degree Planner</h1>
  

  <%= form_with url: save_degree_plan_path, method: :post, local: true, class: 'degreeplan-form' do |f| %>
  


<%#
  <div>
    <label for="core_curriculum">Core Curriculum:</label>
    <%= f.select :core_curriculum, options_for_select(['Curriculum 1', 'Curriculum 2', 'Curriculum 3']) %>
  </div>

<div id="degreeplan-container" class="degreeplan-semesters grid">
  <% semesters = [
      { semester: 1, courses: [
          { name: 'ENGR', crn: '102', credits: 2 },
          { name: 'MATH', crn: '151', credits: 4 },
          { name: 'CHEM', crn: '107/117', credits: 4 },
          { name: 'ENGL', crn: '104 or 103', credits: 3 },
          { name: 'UCC Elective', crn: '', credits: 3 }
        ] },
      { semester: 2, courses: [
          { name: 'ENGR', crn: '216', credits: 2 },
          { name: 'PHYS', crn: '206', credits: 3 },
          { name: 'MATH', crn: '152', credits: 4 },
          { name: 'ENGL', crn: '210', credits: 3 },
          { name: 'UCC Elective', crn: '', credits: 3 }
        ] },
      { semester: 3, courses: [
          { name: 'CSCE', crn: '121', credits: 4 },
          { name: 'CSCE', crn: '222', credits: 3 },
          { name: 'CSCE', crn: '181', credits: 1 },
          { name: 'MATH', crn: '304', credits: 3 },
          { name: 'Science elective', crn: '', credits: 4 }
        ] },
      { semester: 4, courses: [
          { name: 'CSCE', crn: '221', credits: 4 },
          { name: 'CSCE', crn: '312', credits: 4 },
          { name: 'CSCE', crn: '314', credits: 3 },
          { name: 'Emphasis area elective', crn: '', credits: 3 },
          { name: 'UCC Elective', crn: '', credits: 3 }
        ] },
      { semester: 5, courses: [
          { name: 'CSCE', crn: '313', credits: 4 },
          { name: 'CSCE', crn: '411', credits: 3 },
          { name: 'CSCE', crn: '315', credits: 3 },
          { name: 'STAT', crn: '211', credits: 3 },
          { name: 'Emphasis area elective', crn: '', credits: 3 }
        ] },
      { semester: 6, courses: [
          { name: 'CSCE', crn: '399', credits: 0 },
          { name: 'Computer Science Elective', crn: '', credits: 3 },
          { name: 'Computer Science Elective', crn: '', credits: 3 },
          { name: 'General elective', crn: '', credits: 3 },
          { name: 'General elective', crn: '', credits: 3 }
        ] },
      { semester: 7, courses: [
          { name: 'CSCE', crn: '490', credits: 3 },
          { name: 'Computer Science Elective', crn: '', credits: 3 },
          { name: 'General elective', crn: '', credits: 3 },
          { name: 'General elective', crn: '', credits: 3 },
          { name: 'General elective', crn: '', credits: 3 }
        ] },
      { semester: 8, courses: [
          { name: 'CSCE', crn: '499', credits: 3 },
          { name: 'General elective', crn: '', credits: 3 },
          { name: 'General elective', crn: '', credits: 3 },
          { name: 'General elective', crn: '', credits: 3 },
          { name: 'General elective', crn: '', credits: 3 }
        ] }
    ] %>

  <% semesters.each do |semester_data| %>
    <div class="semester-container">
      <h3>Semester <%= semester_data[:semester] %>:</h3>
      <table>
        <thead>
          <tr>
            <th>Course Code</th>
            <th>Cource Number</th>
            <th>Credit</th>
          </tr>
        </thead>
        <tbody>
          <% semester_data[:courses].each_with_index do |course, index| %>
            <tr>
              <td><span><%= course[:name] %></span></td>
              <td><span><%= course[:crn] %></span></td>
              <td><span><%= course[:credits] %></span></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  <% end %>
</div>



<% end %>

<!-- JavaScript for toggling dropdown -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const avatar = document.getElementById('avatar');
      const dropdownMenu = document.getElementById('dropdown-menu');

      // Toggle dropdown visibility
      avatar.addEventListener('click', function() {
        dropdownMenu.classList.toggle('profile-show');
      });

      // Hide dropdown if clicking outside
      document.addEventListener('click', function(event) {
        if (!avatar.contains(event.target) && !dropdownMenu.contains(event.target)) {
          dropdownMenu.classList.remove('profile-show');
        }
      });
    });

  </script>
